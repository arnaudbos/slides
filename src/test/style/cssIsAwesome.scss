@import "common/animations";
@import "common/mixins";

// Cover
section.cover {
  h1 {
    @extend .mzh-animation;
    @include cssIsAwesome();
    text-align: left;
  }
}

// Whoami
#whoami article {
  h4 {
    font-size: 1.5rem;
  }
  & > div {
    display: flex;
    div {
      align-self: center;
    }
    a {
      border: none;
      &::before {
        content: '';
      }
    }
    svg {
      flex: 1 1 auto;
      max-height: 2em;
      max-width: 25vw;
      path {
        fill: currentColor;
      }
    }
  }

  & > a {
    &[href^='https://twitter.com']::before {
      content: '🐦 ';
    }
    &[href^=mailto]::before {
      content: '✉️ ';
    }
  }
}

// Least Power
#least-power article {
  align-self: center;
  blockquote p {
    font-size: 1.2rem;
  }
}

// Buttons
#bordure_des_boutons {
  .editable button {
    padding: .25em .5em;
    transform: scale(4);
  }
}

// CommitStrip
#une_histoire_dunites_css {
  article {
    figure {
      width: 100%;
      height: 100%;
      img {
        max-width: 100%;
        max-height: 66vh;
      }
      figcaption {
        display: none;
      }
    }
  }
}

// Holy Grail
#holy-grail-calc, #holy-grail-flexbox, #holy-grail-grid {
  article {
    display: grid;
    grid-template-columns: 1fr 1fr;
    align-items: center;

    .holy-grail {
      height: 50%;
    }
  }
}

// Holy Grail grid
#holy-grail-grid {
  .hljs-tag:nth-of-type(4), .hljs-tag:nth-of-type(11) {
    opacity: .25;
  }
}

// Philosophe
$plateSize: 100px;
#le_dinner_d_un_philosophe {

  .diner {
    transform: scale(.8);

    .table-wrapper {
      transform: rotateX(20deg);
      min-height: 10rem;
      transform-origin: bottom;
      z-index: 9999;
      position: relative;
      margin: 10px auto 0;
      width: 20rem;
    }

    .table {
      transform: scale(1.5);
      transform-style: preserve-3d;
      outline: solid 1px transparent;
      margin: 0 auto 0 auto;
      min-height: 10rem;
      padding: 15px 15px 22px 15px;
      z-index: 999;
      position: relative;
      white-space: nowrap;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .table-surface {
      box-shadow: 0 2rem .5rem rgba(0, 0, 0, .2);
      background: #dd992d;
      background: linear-gradient(#dd992d, #cd8c26);
      position: absolute;
      height: 100%;
      bottom: 0;
      width: 100%;
    }

    .table-edge {
      width: 20rem;
      margin: 0 auto .5rem auto;
      background: #ac741c;
      height: 1rem;
      transform: rotateX(-40deg);
      transform-origin: top;
      z-index: 2;
    }

    .table-leg {
      width: 1.5rem,;
      height: .8rem;
      background: #84570f;
      position: absolute;
      top: 1rem;

      &:first-child {
        left: 1.5rem;
      }
      &:last-child {
        right: 1.5rem;
      }
    }

    .plate {
      box-shadow: 0 8px 0 rgba(0, 0, 0, .1);
      display: inline-block;
      width: $plateSize;
      height: $plateSize;
      margin: 0 10px;
      position: relative;
      border-bottom: solid 5px #DDD;
      background: white;
      border-radius: 50%;

      &:before {
        content: "";
        display: block;
        position: absolute;
        left: calc(50% - 32px);
        top: calc(50% - 32px);
        height: 65px;
        width: 65px;
        border-radius: 60px;
        border-top: solid 6px #CCC;
        opacity: .4;
        background: rgba(255, 255, 255, 1);
      }
      &:after {
        content: "";
        display: block;
        position: absolute;
        left: calc(50% - 41px);
        top: calc(50% - 40px);
        height: 67px;
        width: 67px;
        border-radius: 60px;
        border: solid 8px #009ff2;
        opacity: .4;
      }
    }
  }
}

// Popover
#info_bulle {
  .popover {
    transform: scale(1.5);
    color: #fff;
    border-radius: .5rem;
    padding: .25rem .5rem;

    &:after {
      content: ' ' var(--who);
    }

  }
}

// Text loading
#texte_de_chargement {
  .editable {
    margin-top: 0;
    min-height: 3rem;
    .loader {
      transform: scale(3);
    }
  }
}

// Popover demo
#usage_des_info_bulles {
  article {
    flex-direction: row;
    align-items: center;
  }

  fieldset {
    position: relative;
    border: none;

    label {
      display: block;
    }

    input {
      font-size: 1em;
      border-radius: .25em;
    }
    input + .error {
      display: block;
      position: absolute;
      margin-top: -1.5em;
      padding: .125em .75em;
      border-radius: .5em;
      color: #fff;
      background: darkred;
      white-space: nowrap;
      top: 4.75em;
      left: 0.5em;
      filter: drop-shadow(.1em .1em .1em rgba(0, 0, 0, .5));
      transform: scale(0);
      transform-origin: 1.43em -.43em;
      transition-timing-function: ease-in;
      transition: .2s;

      &::before {
        position: absolute;
        z-index: -1;
        content: '';
        top: -1.4em;
        left: .5em;
        border: 1em solid transparent;
        border-bottom-color: darkred;
      }
    }
    input:invalid + .error {
      transform: scale(1);
      transition-timing-function: ease-out;
    }
  }

  .hint {
    position: relative;
    .pop {
      display: block;
      position: absolute;
      margin-top: -1.5em;
      padding: .125em .75em;
      border-radius: .5em;
      color: #fff;
      background: teal;
      white-space: nowrap;
      top: 3em;
      left: 0.5em;
      filter: drop-shadow(.1em .1em .1em rgba(0, 0, 0, .5));
      transform: scale(0);
      transform-origin: 1.43em -.43em;
      transition-timing-function: ease-in;
      transition: .2s;

      &::before {
        position: absolute;
        z-index: -1;
        content: '';
        top: -1.4em;
        left: .5em;
        border: 1em solid transparent;
        border-bottom-color: teal;
      }

      &::after {
        content: ' ' var(--popoverName) ' !';
      }
    }

    a:hover + .pop {
      transform: scale(1);
      transition-timing-function: ease-out;
    }

  }
}

// Checkbox Hack
#checkbox article {
  .editable {
    display: flex;
    flex-direction: column;
  }
  blockquote {
    p { font-size: 1rem; }
    cite::before {
      content: '⟿ ';
    }
  }
  fieldset {
    background: rgba(0, 0, 0, .25);
    padding: .125rem .5rem;
    border: thin solid grey;
    transform: scale(2);
    //color: white;
  }
}

// Switch
#switch {
  article {
    display: grid;
    grid-template-columns: 1fr 1fr;
    justify-items: stretch;
    align-items: stretch;
  }

  .editable {
    grid-column: 1 / 3;
    display: flex;
    justify-content: center;
    label {
      box-shadow: none;
      margin: 0 .25em;
    }
  }
}

// Panel
#panel {
  blockquote {
    p {
      font-size: .7rem;
    }
    footer cite {
      font-size: .5rem;
    }
  }
  .editable {
    display: flex;
    align-items: flex-start;
  }
  .panel {
    background: white;
    position: relative;
    border: medium solid currentcolor;
    border-radius: .25em;
    width: 100%;

    & > input[type=checkbox] {
      transform: scale(2);

      & + header label::before {
        margin-left: .25rem;
        content: '▹ ';
        min-width: 2ch;
        display: inline-block;
        cursor: pointer;
      }
      & ~ .body {
        max-height: 0;
        overflow: hidden;
        transition: all .4s linear;
      }
      &:checked {
        & ~ .body {
          max-height: 100vmax;
        }
        & + header label::before {
          content: '▿ ';
        }
      }
    }
    header {
      background: #444;
      color: #fff;
    }
  }
}

// Tabs
#demo_des_onglets {
  .editable {
    width: 100%;
    nav {
      position: relative;
      z-index: 1;
      padding-left: 1em;
    }

    nav > label {
      position: relative;
      display: inline-block;
      padding: .3em 1em 0;
      color: #000;
      text-decoration: none;
      margin: 0 -.3em;
    }

    nav > label::before, .tabs > div {
      border: .1em solid rgba(0, 0, 0, .4);
    }

    nav label::before {
      content: ''; /* To generate the box */
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      z-index: -1;
      border-bottom: none;
      border-radius: .5em .5em 0 0;
      background: #ccc linear-gradient(hsla(0, 0%, 100%, .6), hsla(0, 0%, 100%, 0));
      box-shadow: 0 .15em white inset;
      transform: scale(1.1, 1.3) perspective(.5em) rotateX(5deg);
      transform-origin: bottom;
    }

    .tabs {
      width: 100%;
    }

    .tabs > div {
      margin-bottom: 1em;
      background: #eee;
      padding: 1em;
      border-radius: .15em;
      color: #000;
      display: none;
      min-height: 40vh;
    }
    input {
      transform: scale(2);
    }

    input#home:checked {
      & ~ nav label[for=home] {
        z-index: 2;
        &::before {
          background-color: #eee;
          margin-bottom: -.08em;
        }
      }
      & ~ div[data-for=home] {
        display: block;
      }
    }

    input#projects:checked {
      & ~ nav label[for=projects] {
        z-index: 2;
        &::before {
          background-color: #eee;
          margin-bottom: -.08em;
        }
      }
      & ~ div[data-for=projects] {
        display: block;
      }
    }

    input#about:checked {
      & ~ nav label[for=about] {
        z-index: 2;
        &::before {
          background-color: #eee;
          margin-bottom: -.08em;
        }
      }
      & ~ div[data-for=about] {
        display: block;
      }
    }
  }
}

// Details/summary
#panel_html {

  article {
    display: grid;
    grid-template-columns: 1fr 1fr;
    justify-items: stretch;
    align-items: stretch;
  }

  .editable {
    grid-column: 1 / 3;
    display: flex;
    align-items: flex-start;
  }
}

// Dialog
#dialog {
  .editable {
    display: flex;
    justify-content: center;
    align-items: center;
  }
}

#pour_apprendre {
  img {
    max-height: 15vh;
  }
}

#_rocks__ {
  article > div {
    display: flex;
    height: calc(100vh - 2rem);
    justify-content: center;
    align-items: center;

    .awesome-box {
      position: relative;
      @include cssIsAwesome();
      -webkit-text-fill-color: transparent;
      -webkit-background-clip: text;
      background-image: linear-gradient(315deg, red, orange, green, teal, blue, indigo, magenta);
      background-size: 1400% 1400%;
      width: auto;
      border: solid 1vh transparent;
      padding: 5vh;
      outline: none;
      animation: rainbow 5s ease infinite;

      &::before {
        position: absolute;
        z-index: -1;
        top: 0;
        left: 0;
        width: 56vh;
        height: 56vh;
        content: ' ';
        border: solid 1vh currentColor;
      }
    }

  }
}